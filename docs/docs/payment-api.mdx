---      
sidebar_position: 4
---
# Payment API

API ini berguna untuk menampilkan Metode Pembayaran yang Aktif, Serta Detail dari Metode Pembayaran, 
seperti Biaya Layanan Pembayaran, Group dan Detail untuk di Tampilkan di Frontend Transaksi.

## Payment List Endpoint

### <code class="method-request-get">GET</code> `/lokawp/v1/payment/list`

Endpoint yang berguna untuk menampilkan daftar pembayaran yang aktif
untuk pengaturan pembayaran aktif akan diatur di halaman admin wordpress.

###### Code samples
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
    groupId="codeGroup1"
    defaultValue="shell"
    values={[
    {label: 'Shell', value: 'shell'},
    {label: 'Javascript (fetch)', value: 'javascript(fetch)'},
    {label: 'Axios', value: 'axios'},
    {label: 'PHP', value: 'php'},
]}>
<TabItem value="shell">

```shell
curl --location --request GET 'http://domain.com/wp-json/lokawp/v1/payment/list' \
     --header 'Authorization: Bearer Token'
```

</TabItem>

<TabItem value="javascript(fetch)">

```javascript
var myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer Token");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow'
};

fetch("http://domain.com/wp-json/lokawp/v1/payment/list", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
```

</TabItem>

<TabItem value="axios">

```javascript
var axios = require('axios');

var config = {
    method: 'get',
    url: 'http://domain.com/wp-json/lokawp/v1/payment/list',
    headers: {
        'Authorization': 'Bearer Token'
    }
};

axios(config)
    .then(function (response) {
        console.log(JSON.stringify(response.data));
    })
    .catch(function (error) {
        console.log(error);
    });

```

</TabItem>

<TabItem value="php">

```php
$curl = curl_init();

curl_setopt_array($curl, array(
  CURLOPT_URL => 'http://domain.com/wp-json/lokawp/v1/payment/list',
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => '',
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 0,
  CURLOPT_FOLLOWLOCATION => true,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => 'GET',
  CURLOPT_HTTPHEADER => array(
    'Authorization: Bearer Token Kamu'
  ),
));

$response = curl_exec($curl);

curl_close($curl);
echo $response;
```

</TabItem>

</Tabs>

##### Response
`Status: 200 OK`
```json
{
  "cash": {
    "name": "Cash",
    "description": "Pembayaran Langsung",
    "logo": "http://domain.com/wp-content/plugins/lokawp-backbone/assets/images/payment/qris.png",
    "group": "e-money",
    "group_name": "E-Money",
    "confirmation": "manual"
  },
  "bank_transfer": {
    "name": "Bank Custom One",
    "description": "Semua Pembayaran dengan Kode QR",
    "logo": "http://domain.com/wp-content/plugins/lokawp-backbone/assets/images/payment/custom.png",
    "group": "bank_transfer",
    "group_name": "Bank Transfer",
    "confirmation": "manual"
  }
}
```

### <code class="method-request-get">GET</code> `/lokawp/v1/payment/{method}`

Endpoint yang berguna untuk menampilkan detail metode pembayaran. untuk kebutuhan instruksi pembayaran

##### Arguments

| Name     	| Type    	| In    	| Description                                                                                                  	|
|----------	|---------	|-------	|--------------------------------------------------------------------------------------------------------------	|
| `Authorization`   	| bearer  	| header 	| Token menggunakan **JWT**                	<img width="441" height="1"/>|

##### Code samples

<Tabs
groupId="codeGroup1"
defaultValue="shell"
values={[
{label: 'Shell', value: 'shell'},
{label: 'Javascript (fetch)', value: 'javascript(fetch)'},
{label: 'Axios', value: 'axios'},
{label: 'PHP', value: 'php'},
]}>
<TabItem value="shell">

```shell
curl --location --request GET 'http://domain.com/wp-json/lokawp/v1/cart/30' \
--header 'Authorization: Bearer Token Kamu'
```

</TabItem>

<TabItem value="javascript(fetch)">

```javascript
var myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer Token Kamu");

var requestOptions = {
    method: 'GET',
    headers: myHeaders,
    redirect: 'follow'
};

fetch("domain.com/wp-json/lokawp/v1/cart/30", requestOptions)
    .then(response => response.text())
    .then(result => console.log(result))
    .catch(error => console.log('error', error));
```

</TabItem>

<TabItem value="axios">

```javascript
var axios = require('axios');

var config = {
    method: 'get',
    url: 'http://domain.com/wp-json/lokawp/v1/payment/bank_transfer',
    headers: {
        'Authorization': 'Bearer Token Kamu'
    }
};

axios(config)
    .then(function (response) {
        console.log(JSON.stringify(response.data));
    })
    .catch(function (error) {
        console.log(error);
    });

```

</TabItem>

<TabItem value="php">

```php
$curl = curl_init();

curl_setopt_array($curl, array(
  CURLOPT_URL => 'http://domain.com/wp-json/lokawp/v1/payment/bank_transfer',
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => '',
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 0,
  CURLOPT_FOLLOWLOCATION => true,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => 'GET',
  CURLOPT_HTTPHEADER => array(
    'Authorization: Bearer Token Kamu'
  ),
));

$response = curl_exec($curl);

curl_close($curl);
echo $response;
```

</TabItem>

</Tabs>

##### Response
`Status: 200 OK`
```json
{
  "bank_transfer": {
    "name": "Bank Custom One",
    "description": "Semua Pembayaran dengan Kode QR",
    "logo": "http://localhost:10004/wp-content/plugins/lsddonation/admin/assets/images/payment/custom.png",
    "group": "bank_transfer",
    "group_name": "Bank Transfer",
    "confirmation": "manual",
    "template_class": "Bank_Transfer",
    "docs": {
      "ID": "",
      "WW": ""
    },
    "bank_code": "014",
    "swift_code": "",
    "account_number": "652424242",
    "account_owner": "LSD Plugins",
    "instruction": "Please transfer to this bank account according to the total",
    "master": "bank_transfer",
    "pointer": "bank_transfer",
    "excluded_fields": [],
    "required_fields": [
      "lsdd_form_name",
      "lsdd_form_phone"
    ]
  }
}
```
